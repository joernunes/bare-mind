@tailwind base;
@tailwind components;
@tailwind utilities;

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. 
All colors MUST be HSL.
*/

@layer base {
  :root {
    /* Minimalist palette - clean and spacious */
    --background: 0 0% 100%;
    --foreground: 0 0% 10%;

    --card: 0 0% 100%;
    --card-foreground: 0 0% 10%;

    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 10%;

    /* Subtle blue accent - Apple-like */
    --primary: 211 100% 50%;
    --primary-foreground: 0 0% 100%;

    --secondary: 0 0% 96%;
    --secondary-foreground: 0 0% 10%;

    --muted: 0 0% 96%;
    --muted-foreground: 0 0% 45%;

    --accent: 211 100% 95%;
    --accent-foreground: 211 100% 50%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    /* Ultra-subtle borders */
    --border: 0 0% 90%;
    --input: 0 0% 90%;
    --ring: 211 100% 50%;

    --radius: 0.75rem;

    /* Custom design tokens */
    --editor-bg: 0 0% 100%;
    --toolbar-bg: 0 0% 98%;
    --toolbar-border: 0 0% 92%;
    --hover-bg: 0 0% 96%;
    --active-bg: 211 100% 95%;
  }

  .dark {
    /* Dark mode - deep blacks with subtle grays */
    --background: 0 0% 6%;
    --foreground: 0 0% 95%;

    --card: 0 0% 8%;
    --card-foreground: 0 0% 95%;

    --popover: 0 0% 8%;
    --popover-foreground: 0 0% 95%;

    --primary: 211 100% 55%;
    --primary-foreground: 0 0% 100%;

    --secondary: 0 0% 12%;
    --secondary-foreground: 0 0% 95%;

    --muted: 0 0% 12%;
    --muted-foreground: 0 0% 55%;

    --accent: 211 80% 20%;
    --accent-foreground: 211 100% 55%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    --border: 0 0% 15%;
    --input: 0 0% 15%;
    --ring: 211 100% 55%;

    --editor-bg: 0 0% 6%;
    --toolbar-bg: 0 0% 8%;
    --toolbar-border: 0 0% 12%;
    --hover-bg: 0 0% 12%;
    --active-bg: 211 80% 20%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

@layer components {
  /* Editor styles */
  .editor-content {
    @apply min-h-screen w-full max-w-5xl mx-auto px-8 py-16;
    transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Typography variants */
  .font-sans-default {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
  }

  .font-mono {
    font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
  }

  .font-serif {
    font-family: 'Iowan Old Style', 'Palatino Linotype', 'URW Palladio L', P052, serif;
  }

  /* Smooth transitions */
  .transition-smooth {
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Toolbar styles */
  .toolbar {
    @apply fixed top-0 left-0 right-0 bg-[hsl(var(--toolbar-bg))] border-b border-[hsl(var(--toolbar-border))] backdrop-blur-lg bg-opacity-95;
    z-index: 50;
  }

  /* Code block syntax highlighting */
  .code-block {
    @apply bg-muted rounded-lg p-4 font-mono text-sm overflow-x-auto;
  }

  /* Focus styles */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-background;
  }

  /* Tiptap Editor Styles */
  .ProseMirror {
    @apply text-foreground bg-transparent;
    min-height: 500px;
    outline: none;
  }

  .ProseMirror p.is-editor-empty:first-child::before {
    content: attr(data-placeholder);
    @apply text-muted-foreground;
    float: left;
    pointer-events: none;
    height: 0;
  }

  .ProseMirror p {
    @apply mb-3;
  }

  .ProseMirror h1 {
    @apply text-4xl font-bold mb-4 mt-8;
    line-height: 1.2;
  }

  .ProseMirror h2 {
    @apply text-3xl font-bold mb-3 mt-6;
    line-height: 1.3;
  }

  .ProseMirror h3 {
    @apply text-2xl font-bold mb-3 mt-5;
    line-height: 1.4;
  }

  .ProseMirror ul,
  .ProseMirror ol {
    @apply mb-4 pl-6;
  }

  .ProseMirror ul {
    list-style-type: disc;
  }

  .ProseMirror ol {
    list-style-type: decimal;
  }

  .ProseMirror li {
    @apply mb-1;
  }

  .ProseMirror li p {
    @apply mb-0;
  }

  .ProseMirror blockquote {
    @apply border-l-4 border-primary pl-4 py-2 italic my-4 text-muted-foreground;
    background: hsl(var(--muted) / 0.3);
  }

  .ProseMirror pre {
    @apply bg-muted rounded-lg p-4 mb-4 overflow-x-auto;
    font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
  }

  .ProseMirror code {
    @apply bg-muted px-1.5 py-0.5 rounded text-sm;
    font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
  }

  .ProseMirror pre code {
    @apply bg-transparent p-0;
  }

  .ProseMirror strong {
    @apply font-bold;
  }

  .ProseMirror em {
    @apply italic;
  }

  .ProseMirror u {
    text-decoration: underline;
  }

  .ProseMirror s {
    text-decoration: line-through;
  }

  .ProseMirror mark {
    @apply bg-yellow-200 dark:bg-yellow-800 px-1 rounded;
  }

  .ProseMirror a {
    @apply text-primary underline cursor-pointer hover:text-primary/80;
  }

  .ProseMirror hr {
    @apply border-t-2 border-border my-8;
  }

  .ProseMirror[style*="text-align: center"],
  .ProseMirror *[style*="text-align: center"] {
    text-align: center;
  }

  .ProseMirror[style*="text-align: right"],
  .ProseMirror *[style*="text-align: right"] {
    text-align: right;
  }

  .ProseMirror[style*="text-align: justify"],
  .ProseMirror *[style*="text-align: justify"] {
    text-align: justify;
  }

  /* Focus state for editor */
  .ProseMirror:focus {
    outline: none;
  }
}
